import { AuthProvider } from '@/components/web/AuthProviders';
import Header from '@/components/web/Header';
import { getCurrentUser } from '@/lib/getCurrentUser';
import React from 'react';
import { Roboto } from 'next/font/google'
import Banner from '@/components/web/Banner';
import Footer from '@/components/web/Footer';
import Modal from '@/components/web/Modal';

export const metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

const roboto = Roboto({
  weight: ['400', '700'],
  style: ['normal', 'italic'],
  subsets: ['latin'],
})

export default async function WebRootLayout({
  children,
  params
}: {
  children: React.ReactNode;
  params: any
}) {
  const userData = await getCurrentUser()

  return (
    <div className={`min-h-screen flex flex-col bg-gray-100 ${roboto.className}`}>
      <AuthProvider>
        <Header user={userData} />
        <div className="flex-grow flex items-stretch">
          <div className='w-full'>{children}</div>
        </div>
        {/* <div className="mt-auto"></div> */}
        <Footer />
        <Modal />
      </AuthProvider>
    </div>
  )
}
